---
title: 国际化
createTime: 2026/02/05 02:23:12
---

生成器/处理器的标题和描述, 以及参数的标题和描述, 还有它们发生错误时的提示信息, 都是通过国际化方法实现翻译的.

## 设置主语言

`setLocale(locale: string, fallbackLocale?: string)`

默认语言为中文(zh_CN).

```javascript
import mock from "@erhai_lake/mock-service"

mock.setLocale("en_US")

// 如果想同时设置回退语言可以这样
mock.setLocale("en_US", "zh_CN")
```

## 单独设置回退语言

`setFallbackLocale(fallbackLocale: string)`

如果当前语言不存在翻译, 则会回退到备用语言.

默认备用语言为英文(en_US).

```javascript
import mock from "@erhai_lake/mock-service"

mock.setFallbackLocale("zh_CN")
```

## 获取当前语言

`getLocale(): string`

```javascript
import mock from "@erhai_lake/mock-service"

console.log(mock.getLocale()) // en_US / zh_CN
```

## 获取当前回退语言

`getFallbackLocale(): string`

```javascript
import mock from "@erhai_lake/mock-service"

console.log(mock.getFallbackLocale()) // en_US / zh_CN
```

## 调用翻译

`translate(key: string, params?: Record<string, any>): string`

通常情况下, 方法返回的生成器/处理器都是翻译后的结果.

但可能部分用户有这方面的需求, 可以通过调用翻译方法来实现.

::: note
mock service 提供的翻译方法, 并不支持复杂的功能, 只能获取翻译键对应的翻译字符串, 并替换其中的占位符.

如果你需要使用其他复杂的功能, 请使用其他国际化库, 例如 [i18next](https://www.i18next.com/).
:::

```javascript
import mock from "@erhai_lake/mock-service"

console.log(mock.translate("generator.string.title"))
// 字符串 / UUID 等
console.log(mock.translate("error.unsupportedDate", {format: "YYYY-MM-DD"}))
// 不支持的日期时间格式: YYYY-MM-DD
```

## 翻译生成器分类

`translateGeneratorCategory(category: generatorCategory): generatorCategory`

如果你自己实现了获取生成器分类的方法, 可以通过调用该方法快捷翻译生成器分类.

::: details 为什么没示例
额...mock service 内部是通过底层注册器直接获取数据的. 获取分类目前只有 `getGeneratorCategory` 方法.

但是不排除, 你们自己翻源码找到了, 可能能获取到分类原始数据的方法.

因为我也不知道除了注册器, 还有那里能拿到未翻译前的原始数据.
:::

## 翻译生成器

`translateGenerator(generator: generator): generator`

如果你获取了生成器原始数据, 可以通过调用该方法快捷翻译生成器.

```javascript
import mock from "@erhai_lake/mock-service"

const GENERATORS = mock.getGeneratorCategory("string").generators.getAllGenerator()
const TRANSLATED_GENERATORS = GENERATORS.map((generator) => {
	return mock.translateGenerator(generator)
})
console.log(TRANSLATED_GENERATORS)
```

```javascript
import mock from "@erhai_lake/mock-service"

const GENERATOR = mock.getGeneratorCategory("string").generators.getGenerator("uuid")
const TRANSLATED_GENERATOR = mock.translateGenerator(GENERATOR)
console.log(TRANSLATED_GENERATOR)
```

## 翻译处理器分类

`translateProcessorCategory(category: processorCategory): processorCategory`

如果你自己实现了获取处理器分类的方法, 可以通过调用该方法快捷翻译处理器分类.

::: details 为什么没示例
额...mock service 内部是通过底层注册器直接获取数据的. 获取分类目前只有 `getProcessorCategory` 方法.

但是不排除, 你们自己翻源码找到了, 可能能获取到分类原始数据的方法.

因为我也不知道除了注册器, 还有那里能拿到未翻译前的原始数据.
:::

## 翻译处理器

`translateProcessor(processor: processor): processor`

如果你获取了处理器原始数据, 可以通过调用该方法快捷翻译处理器.

```javascript
import mock from "@erhai_lake/mock-service"

const PROCESSORS = mock.getProcessorCategory("string").processors.getAllProcessor()
const TRANSLATED_PROCESSORS = PROCESSORS.map((processor) => {
	return mock.translateProcessor(processor)
})
console.log(TRANSLATED_PROCESSORS)
```

```javascript
import mock from "@erhai_lake/mock-service"

const PROCESSOR = mock.getProcessorCategory("string").processors.getProcessor("concat")
const TRANSLATED_PROCESSOR = mock.translateProcessor(PROCESSOR)
console.log(TRANSLATED_PROCESSOR)
```